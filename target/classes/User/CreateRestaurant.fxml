<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns:fx="http://javafx.com/fxml/1"
      xmlns="http://javafx.com/javafx/21.0.2"
      fx:controller="controllers.User.CreateRestaurantController"
      spacing="15" styleClass="form-container"
      stylesheets="@../styles/forms.css"
      style="-fx-background-color: #f8f9fa;">

    <padding>
        <Insets top="20" right="30" bottom="20" left="30"/>
    </padding>

    <Label fx:id="titleLabel" text="Ajouter un Restaurant" 
           style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #3498db;"/>

    <Separator style="-fx-background-color: #e0e0e0;"/>

    <GridPane vgap="15" hgap="15">
        <padding>
            <Insets top="10" right="10" bottom="10" left="10"/>
        </padding>

        <Label text="Nom:" styleClass="form-label"
               style="-fx-font-weight: bold; -fx-text-fill: #555;"
               GridPane.rowIndex="0" GridPane.columnIndex="0"/>
        <TextField fx:id="nomField" promptText="Nom du restaurant (min. 3 caractères)"
                  style="-fx-padding: 10; -fx-background-radius: 5;"
                  GridPane.rowIndex="0" GridPane.columnIndex="1"/>

        <Label text="Localisation:" styleClass="form-label"
               style="-fx-font-weight: bold; -fx-text-fill: #555;"
               GridPane.rowIndex="1" GridPane.columnIndex="0"/>
        <HBox spacing="10" GridPane.rowIndex="1" GridPane.columnIndex="1">
            <TextField fx:id="localisationField" promptText="Adresse du restaurant (min. 5 caractères)" 
                      style="-fx-padding: 10; -fx-background-radius: 5;"
                      HBox.hgrow="ALWAYS"/>
            <Button fx:id="selectLocationButton" text="Choisir sur la carte" 
                    onAction="#handleSelectLocation" 
                    style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10; -fx-background-radius: 5;"/>
        </HBox>

        <Label text="Coordonnées:" styleClass="form-label"
               style="-fx-font-weight: bold; -fx-text-fill: #555;"
               GridPane.rowIndex="2" GridPane.columnIndex="0"/>
        <HBox spacing="10" GridPane.rowIndex="2" GridPane.columnIndex="1">
            <TextField fx:id="latField" promptText="Latitude" prefWidth="150"
                      style="-fx-padding: 10; -fx-background-radius: 5;"/>
            <TextField fx:id="lngField" promptText="Longitude" prefWidth="150"
                      style="-fx-padding: 10; -fx-background-radius: 5;"/>
        </HBox>

        <Label text="Description:" styleClass="form-label"
               style="-fx-font-weight: bold; -fx-text-fill: #555;"
               GridPane.rowIndex="3" GridPane.columnIndex="0"/>
        <TextArea fx:id="descriptionField" promptText="Description détaillée (min. 10 caractères)"
                 wrapText="true" prefRowCount="3"
                 style="-fx-padding: 10; -fx-background-radius: 5;"
                 GridPane.rowIndex="3" GridPane.columnIndex="1"/>

        <Label text="Prix moyen:" styleClass="form-label"
               style="-fx-font-weight: bold; -fx-text-fill: #555;"
               GridPane.rowIndex="4" GridPane.columnIndex="0"/>
        <TextField fx:id="prixField" promptText="Prix moyen en dinars (nombre positif)"
                  style="-fx-padding: 10; -fx-background-radius: 5;"
                  GridPane.rowIndex="4" GridPane.columnIndex="1"/>
        
        <Label text="Promotion:" styleClass="form-label"
               style="-fx-font-weight: bold; -fx-text-fill: #555;"
               GridPane.rowIndex="5" GridPane.columnIndex="0"/>
        <HBox alignment="CENTER_LEFT" spacing="10" GridPane.rowIndex="5" GridPane.columnIndex="1">
            <CheckBox fx:id="promotionCheckBox" text="Ce restaurant est en promotion" 
                      style="-fx-font-size: 14px; -fx-text-fill: #e74c3c;"/>
            <Label text="(Affichera un badge PROMO sur la carte du restaurant)" 
                   style="-fx-font-style: italic; -fx-text-fill: #7f8c8d; -fx-font-size: 12px;"/>
        </HBox>

        <Label text="Image principale:" styleClass="form-label"
               style="-fx-font-weight: bold; -fx-text-fill: #555;"
               GridPane.rowIndex="6" GridPane.columnIndex="0"/>
        <HBox spacing="10" GridPane.rowIndex="6" GridPane.columnIndex="1">
            <TextField fx:id="imageField" promptText="Chemin de l'image principale (obligatoire)" 
                      style="-fx-padding: 10; -fx-background-radius: 5;"
                      HBox.hgrow="ALWAYS"/>
            <Button fx:id="chooseImageButton" text="Choisir"
                    onAction="#handleChooseImage" 
                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-padding: 10; -fx-background-radius: 5;"/>
        </HBox>

        <Label text="Image 2:" styleClass="form-label"
               style="-fx-font-weight: bold; -fx-text-fill: #555;"
               GridPane.rowIndex="7" GridPane.columnIndex="0"/>
        <HBox spacing="10" GridPane.rowIndex="7" GridPane.columnIndex="1">
            <TextField fx:id="image1Field" promptText="Chemin de la deuxième image (optionnel)" 
                      style="-fx-padding: 10; -fx-background-radius: 5;"
                      HBox.hgrow="ALWAYS"/>
            <Button fx:id="chooseImage1Button" text="Choisir"
                    onAction="#handleChooseImage1" 
                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-padding: 10; -fx-background-radius: 5;"/>
        </HBox>

        <Label text="Image 3:" styleClass="form-label"
               style="-fx-font-weight: bold; -fx-text-fill: #555;"
               GridPane.rowIndex="8" GridPane.columnIndex="0"/>
        <HBox spacing="10" GridPane.rowIndex="8" GridPane.columnIndex="1">
            <TextField fx:id="image2Field" promptText="Chemin de la troisième image (optionnel)" 
                      style="-fx-padding: 10; -fx-background-radius: 5;"
                      HBox.hgrow="ALWAYS"/>
            <Button fx:id="chooseImage2Button" text="Choisir"
                    onAction="#handleChooseImage2" 
                    style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-padding: 10; -fx-background-radius: 5;"/>
        </HBox>

        <HBox alignment="CENTER_RIGHT" spacing="10" GridPane.rowIndex="9" GridPane.columnIndex="1">
            <Button fx:id="cancelButton" text="Annuler" 
                    style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;"/>
            <Button fx:id="submitButton" text="Ajouter"
                    styleClass="btn-submit"
                    onAction="#handleCreate"
                    style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;"/>
        </HBox>
    </GridPane>
</VBox>
